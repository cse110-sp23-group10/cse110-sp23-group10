<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fortune Page</title>
    <link rel="icon" href="./assets/jarandjelly.png" type="image/x-icon" />
    <link rel="stylesheet" href="./fortune.css" />
    <link rel="stylesheet" href="./navbar.css" />
  </head>

  <body>
    <script type="module" src="./scripts/fortune.js"></script>
    <script type="module" src="./scripts/chatgpt-function.js"></script>
    <script src="./scripts/audio.js"></script>
    <div class="navbar">
      <div class="navbar-left">
        <img class="logo-img" src="../admin/branding/text-logo.png" alt="Jellybean logo" />
        <!-- mute when clicked,  -->
        <img id="sound-icon" src="./assets/sound-white.svg" draggable="false" alt="Sound icon" />
      </div>
      <!-- Home Button, right (landing page?)-->
      <div class="navbar-right">
        <div class="nav-img">
          <img
            src="./assets/blue_jellybean.png"
            style="float: right"
            class="zoom-image"
            alt="Home"
          />
          <span style="float: right"> Home: </span>
        </div>
        <div class="nav-img">
          <img
            src="./assets/orange_jellybean.png"
            style="float: right"
            onclick="GoBack()"
            class="zoom-image"
            alt="Back"
          />
          <span style="float: right"> Back: </span>
        </div>
        <div class="nav-img">
          <img
            src="./assets/red_jellybean.png"
            style="float: right"
            class="zoom-image"
            alt="Account"
          />
          <span style="float: right"> Account: </span>
        </div>
      </div>
    </div>

    <div class="fortune-beans">
      <div class="jellybean-wrapper">
        <img
          src="./assets/green_jellybean.png"
          id="green-jellybean"
          onclick="toggleText('green', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/blue_jellybean.png"
          id="blue-jellybean"
          onclick="toggleText('blue', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/red_jellybean.png"
          id="red-jellybean"
          onclick="toggleText('red', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/yellow_jellybean.png"
          id="yellow-jellybean"
          onclick="toggleText('yellow', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/pink_jellybean.png"
          id="pink-jellybean"
          onclick="toggleText('pink', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/orange_jellybean.png"
          id="orange-jellybean"
          onclick="toggleText('orange', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/mimosa_jellybean.png"
          id="mimosa-jellybean"
          onclick="toggleText('mimosa', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/margarita_jellybean.png"
          id="margarita-jellybean"
          onclick="toggleText('margarita', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/mojito_jellybean.png"
          id="mojito-jellybean"
          onclick="toggleText('mojito', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/brown_jellybean.png"
          id="brown-jellybean"
          onclick="toggleText('brown', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/strawberry_jellybean.png"
          id="strawberry-jellybean"
          onclick="toggleText('strawberry', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
      <div class="jellybean-wrapper">
        <img
          src="./assets/silver_jellybean.png"
          id="silver-jellybean"
          onclick="toggleText('silver', this)"
          class="zoom-image"
          alt="Hover over me"
        />
      </div>
    </div>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        var imageIds = [
          "green-jellybean",
          "blue-jellybean",
          "red-jellybean",
          "yellow-jellybean",
          "pink-jellybean",
          "orange-jellybean",
          "mimosa-jellybean",
          "margarita-jellybean",
          "mojito-jellybean",
          "brown-jellybean",
          "strawberry-jellybean",
          "silver-jellybean",
        ];
        var selectedIds = [];
        var count = 3;

        while (selectedIds.length < count) {
          var randomIndex = Math.floor(Math.random() * imageIds.length);
          var selectedId = imageIds[randomIndex];

          if (!selectedIds.includes(selectedId)) {
            selectedIds.push(selectedId);
          }
        }

        var beans = document.querySelectorAll(".jellybean-wrapper");

        beans.forEach(function (bean) {
          var imageId = bean.querySelector("img").getAttribute("id");

          if (!selectedIds.includes(imageId)) {
            bean.style.display = "none";
          } else {
            bean.classList.add("floating");
          }
        });
      });
    </script>

    <div class="fortune">
      <p class="text" state="none">Choose a Bean</p>
      <img class="loading-bean" src="./assets/silver_jellybean.png" style="display: none" />
    </div>

    <div class="bg">
      <ul class="bg-emojis">
        <li>ğŸ­</li>
        <li>ğŸ¬</li>
        <li>ğŸ§</li>
        <li>ğŸ¦</li>
        <li>ğŸ‚</li>
        <li>ğŸ¡</li>
        <li>ğŸ¢</li>
        <li>ğŸ¬</li>
        <li>ğŸ­</li>
        <li>ğŸ­</li>
        <li>ğŸ¬</li>
      </ul>
    </div>
  </body>
</html>
